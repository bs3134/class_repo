---
title: "HW2"
output: github_document
---

```{r}
library(tidyverse)
subway_file=
  read_csv(file="./NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(-division,-exit_only,-staff_hours,-staffing) %>%
  mutate(entry=recode(entry,"YES"=T,"NO"=F))
dim(subway_file)  

#The dataset contains lines, station names, station latitude, station longitude, routes, entrance type, entry, vending, ADA, ADA notes, and the dimension is 1868x28 #

#Use distinct function, we can get there are totally 465 distinct stations#
distinct(subway_file,line,station_name) 


#Therefore, there are 468 stations are ADA compliant#
sum(subway_file$ada)     


#Convert the value in vending column into 0 and 1 from Yes and No, then we get 183 stations without vending. Using 183 diveded by total station number 1868, then we can get the proportion of station without vending#
new_list=ifelse(subway_file$vending=="YES", 0, 1)
sum(new_list)/1868

#We change the file into tidy, and we can get there are 60 stations containing A#
real_data=gather(subway_file,key=route,value=bus_number,route1 :route11)
after_data=distinct(real_data,line,station_name,route,bus_number,ada) 
after_data
length(which(after_data$bus_number == "A")) 
#And 925 stations are ADA compliant#
sum(after_data$ada)


  
```
